# ุฑุงูููุง ุฑุงูโุงูุฏุงุฒ ุงุดุชุฑุงฺฉ ฺฉุงูู ุจุงุฒุงุฑ

## โ ูพุงุฏูโุณุงุฒ ุงูุฌุงู ุดุฏู

ุณุณุชู ุงุดุชุฑุงฺฉ ุจุง ุงุณุชูุงุฏู ุงุฒ `flutter_poolakey` ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช.

### ๐ง ุชูุธูุงุช ูุงุฒู ูุจู ุงุฒ ุงูุชุดุงุฑ

#### 1. ุฏุฑุงูุช RSA Public Key ุงุฒ ูพูู ฺฉุงูู ุจุงุฒุงุฑ

1. ุจู ูพูู ุชูุณุนูโุฏููุฏฺฏุงู ฺฉุงูู ุจุงุฒุงุฑ ุจุฑูุฏ: https://pishkhan.cafebazaar.ir
2. ูุงุฑุฏ ูุณูุช **ูพุฑุฏุงุฎุช ุฏุฑููโุจุฑูุงููโุง** ุดูุฏ
3. ฺฉูุฏ ุนููู RSA ุฑุง ฺฉูพ ฺฉูุฏ
4. ุขู ุฑุง ุฏุฑ ูุงู `lib/core/config/bazaar_config.dart` ุฌุงฺฏุฒู ฺฉูุฏ:

```dart
static const String rsaPublicKey = '''
-----BEGIN PUBLIC KEY-----
ฺฉูุฏ ุดูุง ุฑุง ุงูุฌุง ูุฑุงุฑ ุฏูุฏ
-----END PUBLIC KEY-----
''';
```

#### 2. ุณุงุฎุช ูุญุตูู ุงุดุชุฑุงฺฉ ุฏุฑ ูพูู ุจุงุฒุงุฑ

1. ุฏุฑ ูพูู ฺฉุงูู ุจุงุฒุงุฑุ ุจู ุจุฎุด **ูุญุตููุงุช/ุฎุฏูุงุช** ุจุฑูุฏ
2. **ูุญุตูู ุฌุฏุฏ** ุจุณุงุฒุฏ ุจุง ูุดุฎุตุงุช ุฒุฑ:
   - **ููุน:** ุงุดุชุฑุงฺฉ (Subscription)
   - **SKU:** `monthly_subscription` (ุจุงุฏ ุฏููุงู ููู ุจุงุดุฏ)
   - **ูุงู:** ุงุดุชุฑุงฺฉ ูุงูุงูู ุฏุณุชุงุฑ ุดุจฺฉู
   - **ููุช:** 300,000 ุชููุงู
   - **ุฏูุฑู:** 30 ุฑูุฒ
   - **Trial:** 7 ุฑูุฒ ุฑุงฺฏุงู
3. ูุญุตูู ุฑุง **ูุนุงู** ฺฉูุฏ

#### 3. ูุนุงูโุณุงุฒ ูพุฑุฏุงุฎุช ุฏุฑููโุจุฑูุงููโุง

1. ุฏุฑ ูุณูุช ุขูพููุฏ APKุ ฺฺฉโุจุงฺฉุณ **ูพุฑุฏุงุฎุช ุฏุฑููโุจุฑูุงููโุง** ุฑุง ูุนุงู ฺฉูุฏ
2. APK ุฌุฏุฏ ุฑุง ุขูพููุฏ ฺฉูุฏ

### ๐ฏ ูุญูู ฺฉุงุฑ ุณุณุชู ุงุดุชุฑุงฺฉ

#### ุฌุฑุงู ฺฉุงุฑ:
1. ฺฉุงุฑุจุฑ ุจุฑูุงูู ุฑุง ูุตุจ ูโฺฉูุฏ
2. ููุช ูุงฺฏู ูโฺฉูุฏุ ุจุฑูุงูู ฺฺฉ ูโฺฉูุฏ ุขุง ุงุดุชุฑุงฺฉ ุฏุงุฑุฏ
3. ุงฺฏุฑ ุงุดุชุฑุงฺฉ ูุฏุงุดุชู ุจุงุดุฏ (ุง trial ุชูุงู ุดุฏู)ุ ุตูุญู ุฎุฑุฏ ููุงุด ุฏุงุฏู ูโุดูุฏ
4. ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุงุดุชุฑุงฺฉ ุฎุฑุฏุงุฑ ฺฉูุฏ
5. ุจุงุฒุงุฑ ุฎูุฏุด ูุฏุฑุช trial ู ุชูุฏุฏ ุฑุง ุงูุฌุงู ูโุฏูุฏ

#### ูฺฺฏโูุง:
- โ 7 ุฑูุฒ trial ุฑุงฺฏุงู (ูุฏุฑุช ุดุฏู ุชูุณุท ุจุงุฒุงุฑ)
- โ ุงุดุชุฑุงฺฉ ูุงูุงูู 300,000 ุชููุงู
- โ ุชูุฏุฏ ุฎูุฏฺฉุงุฑ (ูุฏุฑุช ุดุฏู ุชูุณุท ุจุงุฒุงุฑ)
- โ ุตูุญู ุฎุฑุฏ ุฒุจุง ุจุง ูุณุช ุงูฺฉุงูุงุช
- โ ูุฏุฑุช ุฎุทุงูุง
- โ ูุงฺฏ ฺฏุฐุงุฑ ฺฉุงูู

### ๐ ูุงูโูุง ุงุถุงูู ุดุฏู

1. `lib/core/subscription/subscription_service.dart` - ุณุฑูุณ ุงุตู
2. `lib/features/subscription/presentation/pages/subscription_required_page.dart` - ุตูุญู ุฎุฑุฏ
3. `lib/core/config/bazaar_config.dart` - ุชูุธูุงุช
4. `lib/core/middleware/subscription_middleware.dart` - ฺฺฉ ฺฉุฑุฏู ุงุดุชุฑุงฺฉ

### ๐ ูุฑุงุญู ุจุนุฏ

1. **RSA Public Key** ุฑุง ุงุฒ ูพูู ุจุงุฒุงุฑ ุฏุฑุงูุช ู ุฌุงฺฏุฒู ฺฉูุฏ
2. ูุญุตูู ุงุดุชุฑุงฺฉ ุฑุง ุฏุฑ ูพูู ุจุงุฒุงุฑ ุจุณุงุฒุฏ
3. APK ุฌุฏุฏ ุฑุง ุจูุฏ ฺฉูุฏ: `flutter build apk --release`
4. APK ุฑุง ุฏุฑ ุจุงุฒุงุฑ ุขูพููุฏ ฺฉูุฏ ุจุง ูุนุงู ฺฉุฑุฏู **ูพุฑุฏุงุฎุช ุฏุฑููโุจุฑูุงููโุง**
5. ููุชุธุฑ ุชุงุฏ ุจูุงูุฏ

### โ๏ธ ูฺฉุงุช ููู

- **RSA Key ุฑุง ุจู ฺฏุช commit ูฺฉูุฏ** - ุงุฒ `.gitignore` ุงุณุชูุงุฏู ุดุฏู
- ุจุงุฒุงุฑ ุฎูุฏุด trial ุฑุง ูุฏุฑุช ูโฺฉูุฏ - ูุงุฒ ุจู ุฐุฎุฑู ุชุงุฑุฎ ูุตุจ ูุณุช
- ุงฺฏุฑ ุฎุทุง ุฏุฑ ุงุชุตุงู ุจู ุจุงุฒุงุฑ ุจูุฏุ ุจุฑูุงูู ุจู ุตูุฑุช ูพุดโูุฑุถ ุฏุณุชุฑุณ ูโุฏูุฏ (fail-open)
- ุชุณุช ุงุดุชุฑุงฺฉ ููุท ุฑู APK ููุชุดุฑ ุดุฏู ุฏุฑ ุจุงุฒุงุฑ ฺฉุงุฑ ูโฺฉูุฏ

### ๐งช ุชุณุช

ุจุฑุง ุชุณุช ุงุดุชุฑุงฺฉ:
1. APK ุฑุง ุงุฒ ุจุงุฒุงุฑ ุฏุงูููุฏ ฺฉูุฏ (ูู ุงุฒ Android Studio)
2. ูุงฺฏู ฺฉูุฏ
3. ุตูุญู ุฎุฑุฏ ุจุงุฏ ุธุงูุฑ ุดูุฏ
4. ุฑู **ุฎุฑุฏ ุงุดุชุฑุงฺฉ** ฺฉูฺฉ ฺฉูุฏ
5. ูพุฑุฏุงุฎุช ุฑุง ุงูุฌุงู ุฏูุฏ (ุง ุงุฒ ุชุณุช Account ุงุณุชูุงุฏู ฺฉูุฏ)
6. ุจุฑูุงูู ุจุงุฏ ุฏุณุชุฑุณ ฺฉุงูู ุจุฏูุฏ

### ๐ ูพุดุชุจุงู

ุงฺฏุฑ ูุดฺฉู ุจูุฏ:
- ูุงฺฏโูุง ุจุฑูุงูู ุฑุง ฺฺฉ ฺฉูุฏ
- ูุงฺฏโูุง GlitchTip ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ูุณุชูุฏุงุช ุจุงุฒุงุฑ: https://developers.cafebazaar.ir
